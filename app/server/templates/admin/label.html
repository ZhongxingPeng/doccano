{% extends "admin/admin_base.html" %}
{% load static %}
{% load render_bundle from webpack_loader %}
{% block content-area %}

<div class="card">
  <header class="card-header">
    <p class="card-header-title">
      [[ labels.length ]] labels
    </p>
    <a href="#" class="card-header-icon" aria-label="more options">
      <span class="icon">
        <i class="fas fa-angle-down" aria-hidden="true"></i>
      </span>
    </a>
  </header>

  <div class="card-content">

    <div class="columns is-gapless is-multiline" v-for="label in labels">
      <div class="column is-10">
        <span class="tag is-medium" v-bind:style="{ color: label.text_color, 'background-color': label.background_color }">
          [[ label.text ]]
        </span>
      </div>
      <div class="column is-1">
        <a class="button is-text" @click="editLabel(label)">
          <span class="icon is-small">
            <i class="fas fa-pencil-alt"></i>
            Edit
          </span>
        </a>
      </div>
      <div class="column is-1">
        <a class="button is-text" @click="removeLabel(label)">
          <span class="icon is-small">
            <i class="fas fa-trash"></i>
            Delete
          </span>
        </a>
      </div>
      <div class="column is-12" v-show="label===editedLabel">
        <div class="columns">
          <div class="column is-4">
            <div class="field">
              <label class="label">Label name</label>
              <div class="control">
                <input class="input" type="text" placeholder="Text input" v-model="label.text">
              </div>
            </div>
          </div>

          <div class="column is-3">
            <div class="field">
              <label class="label">Shortcut</label>
              <div class="field has-addons">
                <p class="control">
                  <span class="select">
                    <select>
                      <option></option>
                      <option>Ctrl</option>
                      <option>Shift</option>
                      <option>Ctrl + Shift</option>
                    </select>
                  </span>
                </p>
                <div class="control">
                  <div class="select">
                    <select v-model="selectedKey">
                      <option disabled value="">Select one</option>
                      {% for ch in 'abcdefghijklmnopqrstuvwxyz' %}
                      <option>{{ ch }}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="column is-2">
            <div class="field">
              <label class="label">Color</label>
              <div class="field is-grouped">
                <div class="control">
                  <a class="button has-text-white" v-bind:style="{ 'background-color': label.background_color }">
                    <span class="icon is-small">
                      <i class="fas fa-sync-alt"></i>
                    </span>
                  </a>
                </div>
                <div class="control is-expanded">
                  <input class="input" type="text" placeholder="Text input" v-model="label.background_color">
                </div>
              </div>
            </div>
          </div>

          <div class="column is-3">
            <div class="field">
              <label class="label">&nbsp;</label>
              <div class="field is-grouped">
                <p class="control">
                  <a class="button is-light" @click="cancelEdit(label)">
                    Cancel
                  </a>
                </p>
                <p class="control">
                  <a class="button is-primary" @click="doneEdit(label)">
                    Save changes
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
{% endblock %}
{% block footer %}
{% render_bundle 'label' 'js' %}
{% endblock %}